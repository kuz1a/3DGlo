(()=>{"use strict";(e=>{const t=document.getElementById("timer-hours"),o=document.getElementById("timer-minutes"),l=document.getElementById("timer-seconds"),r=e=>e>0&&e<10?"0"+e:e,c=()=>{let e,t,o,l=(new Date("31 december 2021").getTime()-(new Date).getTime())/1e3;return e=Math.floor(l/60/60),t=Math.floor(l/60%60),o=Math.floor(l%60),{timeRemaining:l,hours:e,minutes:t,seconds:o}},a=()=>{let e=c();t.textContent=r(e.hours),o.textContent=r(e.minutes),l.textContent=r(e.seconds)};if(c().timeRemaining>0){a();let e=setInterval((()=>{c.dateNow>c.dateStop?clearInterval(e):a()}),1e3)}else t.style.color="red",o.style.color="red",l.style.color="red"})(),(()=>{document.querySelector(".menu");const e=document.querySelector("menu"),t=(e.querySelector(".close-btn"),e.querySelectorAll("ul>li>a")),o=document.querySelector("body"),l=t=>{e.classList.toggle("active-menu")};o.addEventListener("click",(e=>{(e.target.closest(".menu")||e.target.closest(".close-btn"))&&l()})),t.forEach((e=>{e.addEventListener("click",(e=>{l()}))}))})(),(()=>{const e=document.querySelectorAll(".popup-btn"),t=document.querySelector(".popup"),o=t.querySelector(".popup-content");t.querySelector(".popup-close"),o.style.left="50%",o.style.transform="translateX(-50%)",e.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),document.body.clientWidth>768?(({timing:e,draw:t,duration:o})=>{let l=performance.now();requestAnimationFrame((function r(c){let a=(c-l)/o;a>1&&(a=1);let n=e(a);t(n),a<1&&requestAnimationFrame(r)}))})({duration:1e3,timing:e=>e,draw(e){t.style.top=0*e+"%",t.style.display="block",t.style.opacity=e,o.style.top=50*e+"%",o.style.transform=`translateY(${-50*e}%) translateX(-50%)`}}):t.style.display="block"}))})),t.addEventListener("click",(e=>{(e.target.classList.contains("popup")||e.target.classList.contains("popup-close"))&&(t.style.display="none")}))})(),(()=>{const e=document.querySelector("menu").querySelectorAll("a");for(let t of e)t.addEventListener("click",(function(e){e.preventDefault();const o=t.getAttribute("href");document.querySelector(o)&&document.querySelector(o).scrollIntoView({behavior:"smooth",block:"start"})}))})(),(()=>{const e=document.querySelector(".calc-block"),t=(e.querySelectorAll("input[type=text]"),document.querySelector("#form1-name")),o=document.querySelector("#form2-name"),l=document.querySelector("#form3-name"),r=document.querySelector(".mess"),c=document.querySelectorAll("input[type=email]"),a=document.querySelectorAll("input[type=tel]");e.addEventListener("input",(e=>{"text"===e.target.type&&(e.target.value=e.target.value.replace(/[^\d]/g,""))})),c.forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/[^a-zA-Z\@\-\_\.\!\~\*\'/]/g,"")}))})),a.forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/[^0-9\(\)\-]/g,"")}))})),t.addEventListener("input",(()=>{"Ваше имя"===t.getAttribute("placeholder")&&(t.value=t.value.replace(/[^а-яА-Я\s\-]/g,""))})),o.addEventListener("input",(()=>{"Ваше имя"===t.getAttribute("placeholder")&&(t.value=t.value.replace(/[^а-яА-Я\s\-]/g,""))})),l.addEventListener("input",(()=>{"Ваше имя"===t.getAttribute("placeholder")&&(t.value=t.value.replace(/[^а-яА-Я\s\-]/g,""))})),r.addEventListener("input",(()=>{"Ваше сообщение"===r.getAttribute("placeholder")&&(r.value=r.value.replace(/[^а-яА-Я\s\-]/g,""))}))})(),(()=>{const e=document.querySelectorAll(".service-tab"),t=document.querySelector(".service-header"),o=document.querySelectorAll(".service-header-tab");t.addEventListener("click",(t=>{if(t.target.closest(".service-header-tab")){const l=t.target.closest(".service-header-tab");o.forEach(((t,o)=>{t===l?(t.classList.add("active"),e[o].classList.remove("d-none")):(t.classList.remove("active"),e[o].classList.add("d-none"))}))}}))})(),(()=>{const e=document.querySelector(".portfolio-content"),t=document.querySelectorAll(".portfolio-item"),o=[],l=document.querySelector(".portfolio-dots");let r=0,c=0;const a=(e,t,o)=>{e[t].classList.remove(o)},n=(e,t,o)=>{e[t].classList.add(o)};for(let e=t.length-1;e>=0;e--){let t=document.createElement("li");t.classList.add("dot"),o[e]=t,l.insertAdjacentElement("afterbegin",o[e])}o[0].classList.add("dot-active");const s=()=>{a(t,r,"portfolio-item-active"),a(o,r,"dot-active"),r++,r===t.length&&(r=0),n(t,r,"portfolio-item-active"),n(o,r,"dot-active")},u=(e=1500)=>{c=setInterval(s,2e3)};e.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot, .portfolio-btn")&&(a(t,r,"portfolio-item-active"),a(o,r,"dot-active"),e.target.matches("#arrow-right")?r++:e.target.matches("#arrow-left")?r--:e.target.classList.contains("dot")&&o.forEach(((t,o)=>{e.target===t&&(r=o)})),r>=t.length&&(r=0),r<0&&(r=t.length-1),n(t,r,"portfolio-item-active"),n(o,r,"dot-active"))})),e.addEventListener("mouseenter",(e=>{e.target.matches(".dot, .portfolio-btn")&&clearInterval(c)}),!0),e.addEventListener("mouseleave",(e=>{e.target.matches(".dot, .portfolio-btn")&&u(2e3)}),!0),u(2e3)})(),((e=100)=>{const t=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),l=document.querySelector(".calc-square"),r=document.querySelector(".calc-count"),c=document.querySelector(".calc-day");let a=document.querySelector("#total");t.addEventListener("input",(t=>{t.target!==o&&t.target!==l&&t.target!==r&&t.target!==c||(()=>{const t=+o.options[o.selectedIndex].value,n=+l.value;let s=1,u=0,i=1;r.value>1&&(s+=+r.value/10),c.value&&c.value<5?i=2:c.value&&c.value<10&&(i=1.5),o.value||(l.value="",r.value="",c.value="",l.placeholder="Общая площадь*",r.placeholder="Количество пемещений",c.placeholder="Срок исполнения (в днях)"),u=o.value&&l.value?e*t*n*s*i:0,a.textContent=u})()}))})()})();